# 功能新增/变更检查列表

本文档用于在新增或变更功能后进行全面自检，确保所有相关内容都得到正确更新。AI助手在提交前必须逐项核对，以保证代码质量和项目一致性。

## 1. 代码实现检查

- [x] 功能实现是否完整且符合需求
- [x] 代码是否遵循项目的编码规范
- [x] 变量和函数命名是否清晰、有意义
- [x] 是否移除了调试代码和不必要的注释
- [x] 是否处理了异常情况和边界条件
- [x] 是否经过性能优化
- [x] 是否避免了代码重复
- [x] 是否遵循平台抽象层设计原则（特别是对多平台支持）
- [x] 本次提交的内容是否涉及功能变更？若是，是否已新增对应的单元测试用例

## 2. 测试相关检查

- [x] 是否编写了单元测试，覆盖核心逻辑
- [x] 是否编写了集成测试，验证模块间交互
- [x] 测试用例是否包含正常情况和异常情况
- [x] 测试覆盖率是否达到项目要求（当前阈值：50%）
- [x] 是否运行了所有测试，确保没有失败的测试
- [x] 是否验证了在不同平台下的功能正确性
- [x] 是否编写了插件系统相关的测试（如有涉及）
- [x] 新添加的测试用例是否已成功运行并通过
- [x] 测试代码是否清晰可读、注释完整

## 3. 文档更新检查

### 核心文档检查

- [x] API文档（API_DOCUMENTATION.md）是否已更新以反映当前实现
- [x] 部署指南（DEPLOYMENT_GUIDE.md）是否已更新以适应最新部署流程
- [x] 开发指南（DEVELOPMENT_GUIDE.md）是否已更新以反映最新开发规范
- [x] 插件架构文档（README_PLUGIN_ARCHITECTURE.md）是否已更新（如涉及插件系统）
- [x] 项目说明文档（README.md）是否已更新，反映新功能或变更
- [x] 用户手册（USER_MANUAL.md）是否已更新（如有必要）
- [x] 测试覆盖率文档（TEST_COVERAGE.md）是否已更新

### 文档内容检查

- [x] 文档是否准确描述了当前实现
- [x] 文档中的示例代码是否可运行
- [x] 文档是否包含版本信息和更新日期
- [x] 代码注释是否完整且准确

### 文档一致性检查

- [x] 各文档之间的信息是否一致
- [x] 文档中提到的功能是否都已实现
- [x] 文档中使用的术语是否与代码一致

## 4. 版本管理检查

- [x] 是否使用changeset创建了变更记录（在.changeset目录下）
- [x] 版本号更新是否符合语义化版本规范
- [x] CHANGELOG是否已更新，描述了所有重要变更
- [x] 是否标记了破坏性变更（如有）
- [x] 是否更新了各包的package.json版本号
- [x] 版本更新是否与功能变更的重要性匹配

## 5. 构建与配置检查

- [x] package.json中的依赖是否正确更新
- [x] 构建脚本是否需要更新
- [x] CI/CD配置（.github/workflows/ci.yml）是否需要调整
- [x] 配置文件是否需要更新
- [x] 是否运行了TypeScript类型检查
- [x] 是否通过了ESLint代码检查
- [x] 是否通过了Prettier格式化检查
- [x] 是否更新了pnpm-workspace.yaml（如有必要）
- [x] 构建产物是否符合预期且能正常运行

## 6. 平台兼容性检查

- [x] Web版本是否正常工作
- [x] Electron版本是否正常工作
- [x] 浏览器扩展版本是否正常工作
- [x] 是否处理了不同平台间的API差异
- [x] 是否测试了不同浏览器的兼容性
- [x] 跨平台数据存储和同步是否正常工作
- [x] 插件在各平台上是否兼容并正常运行
- [x] 不同平台的构建产物是否一致且符合预期

## 7. 性能与安全检查

- [x] 是否避免了潜在的安全漏洞
- [x] 是否考虑了性能优化（如避免不必要的渲染、优化大型数据集处理等）
- [x] 是否检查了内存泄漏
- [x] 敏感信息是否得到妥善处理
- [x] 插件执行是否有适当的权限控制和安全检查
- [x] 是否避免了引入未使用的依赖或冗余代码

## 8. 插件系统检查（如适用）

- [x] 插件是否符合接口规范
- [x] 插件是否在正确的目录结构下
- [x] 插件的元数据是否完整
- [x] 插件是否与PluginManager正确集成
- [x] 插件依赖是否得到妥善处理
- [x] 插件更新机制是否正常工作
- [x] 插件是否有适当的错误处理机制

## 9. 文件管理与提交检查

- [x] 所有新文件是否已添加到Git版本控制
- [x] 提交信息是否清晰描述了变更内容（使用pnpm commit规范化）
- [x] 是否需要通知团队其他成员
- [x] 是否有需要特殊部署说明的内容
- [x] 是否考虑了向后兼容性
- [x] husky钩子是否正常工作
- [x] 所有变更是否通过了pre-commit检查

## 10. 文件冗余检查

- [x] 本次提交的内容中，是否有文件属于冗余文件（不应提交到git）
- [x] 是否有临时文件、日志文件、构建产物被意外包含在提交中
- [x] 是否检查了.gitignore配置，确保正确忽略了不需要版本控制的文件
- [x] 如有冗余文件，是否已从提交中删除

## 11. AI自检特殊检查

- [x] 所有修改是否有明确的目的和说明
- [x] 是否确保代码风格与项目一致
- [x] 是否避免了硬编码的值和路径
- [x] 是否确保了错误信息清晰、有帮助
- [x] 是否考虑了可扩展性和未来可能的需求变更
- [x] 是否验证了所有配置文件的正确性
- [x] 是否确保了代码的可维护性和可测试性

---

**AI最后自检验证**：

- [x] 所有检查项都已逐项核对并确认
- [x] 项目能够正常构建和运行（使用pnpm build:all）
- [x] 功能在实际使用场景中验证通过
- [x] 多平台部署和测试都已完成
- [x] 代码质量和文档完整性都达到项目要求
- [x] 已确保没有冗余或不应该提交的文件
- [x] 已确保所有功能变更都有相应的测试覆盖
- [x] 已确保所有相关文档都已更新到最新状态

**注意**：此检查列表应在每次提交前由AI助手运行，并根据项目发展定期更新。当有新类型的文档添加到项目中时，应及时更新文档检查部分。
